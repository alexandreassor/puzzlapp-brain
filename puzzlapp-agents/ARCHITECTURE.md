# Architecture Technique - PuzzlApp Brain Agents

> **Version** : 1.0.0
> **Date** : 19 janvier 2026

---

## 1. Vue d'ensemble du systÃ¨me

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           PUZZLAPP BRAIN ECOSYSTEM                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                â•‘
â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘    â”‚                         COUCHE CLIENT                                â”‚    â•‘
â•‘    â”‚                                                                      â”‚    â•‘
â•‘    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚    â•‘
â•‘    â”‚   â”‚  INTERFACE ADMIN â”‚        â”‚ INTERFACE LECTEURâ”‚                  â”‚    â•‘
â•‘    â”‚   â”‚                  â”‚        â”‚                  â”‚                  â”‚    â•‘
â•‘    â”‚   â”‚  â€¢ Victor Panel  â”‚        â”‚  â€¢ LÃ©o Panel     â”‚                  â”‚    â•‘
â•‘    â”‚   â”‚  â€¢ Ã‰diteur TipTapâ”‚        â”‚  â€¢ Parcours      â”‚                  â”‚    â•‘
â•‘    â”‚   â”‚  â€¢ Bibliographie â”‚        â”‚  â€¢ Jeux          â”‚                  â”‚    â•‘
â•‘    â”‚   â”‚                  â”‚        â”‚  â€¢ Notion Export â”‚                  â”‚    â•‘
â•‘    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚    â•‘
â•‘    â”‚            â”‚                           â”‚                            â”‚    â•‘
â•‘    â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚    â•‘
â•‘    â”‚                        â”‚                                            â”‚    â•‘
â•‘    â”‚                        â–¼                                            â”‚    â•‘
â•‘    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â•‘
â•‘    â”‚   â”‚              PUZZLAPP-BRAIN (Frontend)                       â”‚  â”‚    â•‘
â•‘    â”‚   â”‚                                                              â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  Stack: React 19 + Vite 7 + TypeScript + Tailwind           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  Port: 5173 (dev)                                           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚                                                              â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ /admin      â”‚ â”‚ /reader     â”‚ â”‚ /login      â”‚            â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ AdminPage   â”‚ â”‚ ReaderPage  â”‚ â”‚ LoginPage   â”‚            â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚    â•‘
â•‘    â”‚   â”‚                                                              â”‚  â”‚    â•‘
â•‘    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â•‘
â•‘    â”‚                              â”‚                                      â”‚    â•‘
â•‘    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                                   â”‚                                           â•‘
â•‘                                   â”‚ HTTP/WebSocket                            â•‘
â•‘                                   â”‚                                           â•‘
â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘    â”‚                         COUCHE SERVEUR                               â”‚    â•‘
â•‘    â”‚                              â”‚                                       â”‚    â•‘
â•‘    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â•‘
â•‘    â”‚   â”‚              PUZZLAPP-AGENTS (Backend)                       â”‚   â”‚    â•‘
â•‘    â”‚   â”‚                                                              â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  Stack: Node.js + Express + Claude Agent SDK                â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  Port: 3001                                                  â”‚   â”‚    â•‘
â•‘    â”‚   â”‚                                                              â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                 API LAYER                            â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                                                      â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  GET  /api/health     â†’  Health check                â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  GET  /api/agents     â†’  Liste des agents            â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  POST /api/agents/query  â†’  RequÃªte sync             â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  POST /api/agents/stream â†’  RequÃªte SSE              â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  WS   /ws             â†’  WebSocket streaming         â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                                                      â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚                            â”‚                                  â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                 AGENTS LAYER                          â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                                                       â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚  VICTOR  â”‚ â”‚   LÃ‰O    â”‚ â”‚  SOPHIE  â”‚ â”‚   MARC   â”‚ â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚ RÃ©dactionâ”‚ â”‚  Guide   â”‚ â”‚Avant-Venteâ”‚ â”‚Onboardingâ”‚ â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚ 6 skills â”‚ â”‚ 4 skills â”‚ â”‚ 4 skills â”‚ â”‚ 4 skills â”‚ â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚    âœ…    â”‚ â”‚    ğŸ”œ    â”‚ â”‚    ğŸ”œ    â”‚ â”‚    ğŸ”œ    â”‚ â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚       â”‚                                               â”‚    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚          â”‚                                                    â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚              CLAUDE AGENT SDK                          â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                                                        â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  import { query } from '@anthropic-ai/claude-agent-sdk'â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                                                        â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â€¢ ExÃ©cution autonome multi-tours                      â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â€¢ Gestion des outils (Read, WebSearch, etc.)          â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â€¢ Streaming des rÃ©ponses                              â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â€¢ Gestion des permissions                             â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                                                        â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚                OUTILS DISPONIBLES                â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚                                                  â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚  â”‚ Read â”‚ â”‚ Edit â”‚ â”‚ Glob â”‚ â”‚ Grep â”‚ â”‚ Bash â”‚  â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚  â”‚WebSearch â”‚ â”‚  Write   â”‚                     â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â”‚                                                  â”‚  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                                                        â”‚   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚    â•‘
â•‘    â”‚   â”‚                           â”‚                                    â”‚   â”‚    â•‘
â•‘    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â•‘
â•‘    â”‚                               â”‚                                        â”‚    â•‘
â•‘    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                                    â”‚                                             â•‘
â•‘                                    â”‚ MCP (Model Context Protocol)                â•‘
â•‘                                    â”‚                                             â•‘
â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘    â”‚                         COUCHE DONNÃ‰ES                                 â”‚    â•‘
â•‘    â”‚                               â”‚                                        â”‚    â•‘
â•‘    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â•‘
â•‘    â”‚   â”‚                      MCP SERVERS                                â”‚  â”‚    â•‘
â•‘    â”‚   â”‚                                                                 â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚   SUPABASE MCP      â”‚     â”‚    NOTION MCP       â”‚           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                     â”‚     â”‚                     â”‚           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ Lecture/Ã©criture  â”‚     â”‚ â€¢ CrÃ©ation pages    â”‚           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚   tables            â”‚     â”‚ â€¢ CrÃ©ation bases    â”‚           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ Recherche         â”‚     â”‚ â€¢ Export livrables  â”‚           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚   bibliographique   â”‚     â”‚                     â”‚           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                     â”‚     â”‚                     â”‚           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚    â•‘
â•‘    â”‚   â”‚             â”‚                                                   â”‚  â”‚    â•‘
â•‘    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â•‘
â•‘    â”‚                 â”‚                                                       â”‚    â•‘
â•‘    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â•‘
â•‘    â”‚   â”‚                       SUPABASE                                   â”‚  â”‚    â•‘
â•‘    â”‚   â”‚                                                                  â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  URL: https://aeraxtdgjbhdrxfbsczh.supabase.co                  â”‚  â”‚    â•‘
â•‘    â”‚   â”‚                                                                  â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚    PostgreSQL    â”‚  â”‚      Auth        â”‚  â”‚    Storage    â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚               â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ profiles       â”‚  â”‚ â€¢ JWT tokens     â”‚  â”‚ â€¢ Documents   â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ chapters       â”‚  â”‚ â€¢ User sessions  â”‚  â”‚ â€¢ Images      â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ sections       â”‚  â”‚ â€¢ RLS policies   â”‚  â”‚               â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ memoir_sources â”‚  â”‚                  â”‚  â”‚               â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ agent_convs    â”‚  â”‚                  â”‚  â”‚               â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ cabinet_inst.  â”‚  â”‚                  â”‚  â”‚               â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚ â€¢ notion_conn.   â”‚  â”‚                  â”‚  â”‚               â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚               â”‚ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚    â•‘
â•‘    â”‚   â”‚                                                                  â”‚  â”‚    â•‘
â•‘    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â•‘
â•‘    â”‚                                                                          â”‚    â•‘
â•‘    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                                                                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 2. Flux de donnÃ©es

### 2.1 Flux Victor (Admin â†’ RÃ©daction)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ADMIN UI   â”‚     â”‚   FRONTEND   â”‚     â”‚   AGENTS     â”‚     â”‚   CLAUDE     â”‚
â”‚              â”‚     â”‚              â”‚     â”‚   SERVER     â”‚     â”‚   AGENT SDK  â”‚
â”‚  VictorPanel â”‚     â”‚  React App   â”‚     â”‚   Express    â”‚     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚  1. User message   â”‚                    â”‚                    â”‚
       â”‚  + skill           â”‚                    â”‚                    â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚                    â”‚  2. POST /api/     â”‚                    â”‚
       â”‚                    â”‚     agents/query   â”‚                    â”‚
       â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â”‚  3. query({        â”‚
       â”‚                    â”‚                    â”‚       prompt,      â”‚
       â”‚                    â”‚                    â”‚       options      â”‚
       â”‚                    â”‚                    â”‚     })             â”‚
       â”‚                    â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â”‚                    â”‚  4. ExÃ©cution
       â”‚                    â”‚                    â”‚                    â”‚     multi-tours
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚                    â”‚                    â”‚â”€â”€â”‚WebSearch â”‚
       â”‚                    â”‚                    â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚                    â”‚                    â”‚â”€â”€â”‚   Read   â”‚
       â”‚                    â”‚                    â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â”‚  5. Stream events  â”‚
       â”‚                    â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚                    â”‚  6. JSON response  â”‚                    â”‚
       â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
       â”‚                    â”‚                    â”‚                    â”‚
       â”‚  7. Display        â”‚                    â”‚                    â”‚
       â”‚     response       â”‚                    â”‚                    â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
       â”‚                    â”‚                    â”‚                    â”‚
```

### 2.2 Flux Streaming (WebSocket)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FRONTEND   â”‚                              â”‚   AGENTS     â”‚
â”‚              â”‚                              â”‚   SERVER     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                             â”‚
       â”‚  1. WebSocket connect                       â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
       â”‚                                             â”‚
       â”‚  2. Send message (JSON)                     â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                                             â”‚
       â”‚                                             â”‚  3. Claude Agent
       â”‚                                             â”‚     SDK executes
       â”‚                                             â”‚
       â”‚  4. Stream: { type: "text", content: "..." }â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                             â”‚
       â”‚  5. Stream: { type: "tool_use", ... }       â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                             â”‚
       â”‚  6. Stream: { type: "text", content: "..." }â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                             â”‚
       â”‚  7. Stream: { type: "done" }                â”‚
       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                             â”‚
```

---

## 3. Agents - DÃ©tails techniques

### 3.1 Agent Victor

| PropriÃ©tÃ© | Valeur |
|-----------|--------|
| **Type** | `victor` |
| **RÃ´le** | RÃ©daction acadÃ©mique |
| **Interface** | Admin Panel |
| **Fichiers** | `src/agents/victor/` |

#### Skills et outils

| Skill | Outils autorisÃ©s | Description |
|-------|-----------------|-------------|
| `redaction` | Read, WebSearch, Glob | GÃ©nÃ¨re du contenu acadÃ©mique |
| `recherche` | WebSearch, Read | Recherche web temps rÃ©el |
| `acquisition` | Read, Glob, Grep | Capture et structure |
| `plan` | Read, Glob | Organisation du contenu |
| `bibliographie` | WebSearch, Read | Gestion sources APA |
| `critique` | Read | Ã‰valuation et amÃ©lioration |

#### Prompt systÃ¨me (extrait)

```typescript
const MEMOIR_CONTEXT = `
Tu es Victor, l'assistant IA de rÃ©daction pour le mÃ©moire DEC d'Alexandre ASSOR.

## Sujet du mÃ©moire
"Knowledge Management innovant pour la performance des cabinets d'expertise comptable"

## Cabinet d'Ã©tude
- Nom : TRAJECTOIRE CONSEIL
- Effectif : 60 collaborateurs
- Score KMMM initial : 1,6/5

## Auteurs clÃ©s
- Nonaka & Takeuchi (1995) : ModÃ¨le SECI
- Davenport & Prusak (1998) : Working Knowledge
- Sveiby (1997) : Capital intellectuel
- Ermine (2003) : MASK
`;
```

### 3.2 Agents Ã  venir

| Agent | RÃ´le | Interface | Skills prÃ©vus |
|-------|------|-----------|---------------|
| **LÃ©o** | Guide parcours | Lecteur | guide, recommandation, coaching, diagnostic |
| **Sophie** | Avant-vente | Lecteur | decouverte, proposition, negociation, closing |
| **Marc** | Onboarding | Lecteur | accueil, formation, suivi, validation |

---

## 4. SÃ©curitÃ©

### 4.1 Authentification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUX D'AUTHENTIFICATION                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  User    â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Supabase â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   JWT    â”‚          â”‚
â”‚  â”‚  Login   â”‚        â”‚   Auth   â”‚        â”‚  Token   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                               â”‚                 â”‚
â”‚                                               â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    FRONTEND                               â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â€¢ Token stockÃ© dans Supabase client                     â”‚  â”‚
â”‚  â”‚  â€¢ EnvoyÃ© dans Authorization header                      â”‚  â”‚
â”‚  â”‚  â€¢ Refresh automatique                                    â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                               â”‚                                 â”‚
â”‚                               â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  AGENTS SERVER                            â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  // TODO: Ajouter validation JWT                         â”‚  â”‚
â”‚  â”‚  // Actuellement: pas d'auth (dev mode)                  â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Permissions des outils

| Mode | Comportement | Usage |
|------|--------------|-------|
| `default` | Demande confirmation | Production avec UI |
| `acceptEdits` | Auto-approuve fichiers | DÃ©veloppement |
| `bypassPermissions` | Tout auto-approuvÃ© | CI/CD, scripts |

---

## 5. DÃ©ploiement

### 5.1 Architecture de dÃ©ploiement recommandÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PRODUCTION ARCHITECTURE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     VERCEL        â”‚     â”‚            RAILWAY / VPS              â”‚   â”‚
â”‚  â”‚                   â”‚     â”‚                                        â”‚   â”‚
â”‚  â”‚  puzzlapp-brain   â”‚     â”‚         puzzlapp-agents               â”‚   â”‚
â”‚  â”‚  (Frontend)       â”‚     â”‚         (Backend)                     â”‚   â”‚
â”‚  â”‚                   â”‚     â”‚                                        â”‚   â”‚
â”‚  â”‚  â€¢ Static build   â”‚     â”‚  â€¢ Node.js runtime                    â”‚   â”‚
â”‚  â”‚  â€¢ CDN edge       â”‚     â”‚  â€¢ Claude Code installed              â”‚   â”‚
â”‚  â”‚  â€¢ Auto SSL       â”‚     â”‚  â€¢ Persistent volume (optional)       â”‚   â”‚
â”‚  â”‚                   â”‚     â”‚                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                                   â”‚                        â”‚
â”‚            â”‚         HTTPS / WSS              â”‚                        â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                           SUPABASE                                 â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â”‚   Region: eu-west-1 (France)                                      â”‚  â”‚
â”‚  â”‚   Plan: Pro (recommandÃ© pour production)                          â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Variables d'environnement par environnement

| Variable | DÃ©veloppement | Production |
|----------|---------------|------------|
| `PORT` | `3001` | `$PORT` (auto) |
| `CORS_ORIGIN` | `http://localhost:5173` | `https://puzzlapp.brain` |
| `SUPABASE_URL` | URL dev | URL prod |
| `SUPABASE_SERVICE_KEY` | ClÃ© dev | ClÃ© prod (sÃ©curisÃ©e) |

---

## 6. Ã‰volutions futures

### 6.1 Court terme (Q1 2026)
- [ ] Agent LÃ©o pour les parcours lecteur
- [ ] IntÃ©gration MCP Supabase pour la bibliographie
- [ ] Authentification JWT sur le serveur d'agents

### 6.2 Moyen terme (Q2 2026)
- [ ] Agents Sophie et Marc
- [ ] MCP Notion pour crÃ©ation automatique d'espaces
- [ ] RAG avec embeddings des sources

### 6.3 Long terme (Q3-Q4 2026)
- [ ] Sessions multi-utilisateurs
- [ ] Agents collaboratifs
- [ ] Voice interface

---

## 7. Contacts

- **Projet** : MÃ©moire DEC - Alexandre ASSOR
- **Email** : alexandre.assor.puzzl@gmail.com
- **Supabase** : https://aeraxtdgjbhdrxfbsczh.supabase.co

---

*Documentation gÃ©nÃ©rÃ©e le 19 janvier 2026*
