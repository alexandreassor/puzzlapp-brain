# PRD â€” KM 360Â°
## SystÃ¨me de Knowledge Management Nouvelle GÃ©nÃ©ration pour Cabinets d'Expertise Comptable

**Version** : 1.0  
**Date** : Janvier 2025  
**Auteur** : Alex Assor / Experts Entreprendre  
**Statut** : Draft pour dÃ©veloppement

---

# PARTIE 1 : VISION & STRATÃ‰GIE

## 1.1 Executive Summary

**KM 360Â°** est une plateforme SaaS de Knowledge Management conÃ§ue pour les cabinets d'expertise comptable franÃ§ais. Elle combine des agents IA spÃ©cialisÃ©s, une base de connaissances Ã©volutive, et une mÃ©thodologie structurÃ©e (Double Diamant) pour transformer les process mÃ©tier des cabinets.

**L'innovation clÃ©** : Le KM n'est plus une base documentaire passive. C'est un systÃ¨me vivant qui apprend de chaque interaction, capitalise automatiquement les savoirs, et guide les collaborateurs dans leurs missions.

## 1.2 Le ProblÃ¨me

### Constat marchÃ©
- **6 500 cabinets** d'expertise comptable en France
- **130 000 collaborateurs** dans la profession
- **73%** des cabinets n'ont aucun systÃ¨me KM structurÃ©
- **Le savoir part avec les gens** : turnover moyen de 15%/an

### Douleurs identifiÃ©es

| Douleur | Impact | FrÃ©quence |
|---------|--------|-----------|
| RÃ©invention permanente | Perte de temps, inconsistance | Quotidien |
| Savoir non capitalisÃ© | DÃ©pendance aux experts, risque | Permanent |
| Onboarding long | 6-12 mois pour Ãªtre autonome | Chaque recrutement |
| Process non documentÃ©s | Erreurs, non-conformitÃ© | RÃ©gulier |
| Veille mal diffusÃ©e | Risques fiscaux/sociaux | Continu |

### Le paradoxe des cabinets
> "Nous vendons du conseil et de l'expertise, mais nous ne savons pas gÃ©rer notre propre connaissance."

## 1.3 La Solution : KM 360Â°

### Vision
> Transformer chaque cabinet en organisation apprenante oÃ¹ le savoir se capture, se structure, se diffuse et s'enrichit automatiquement.

### Principes fondateurs

1. **Le KM par l'usage** : On capitalise en travaillant, pas aprÃ¨s
2. **L'IA comme catalyseur** : Les agents IA guident et structurent
3. **La mutualisation intelligente** : Apprendre des autres cabinets (anonymisÃ©)
4. **Le Double Diamant** : Une mÃ©thodologie Ã©prouvÃ©e pour transformer

### Proposition de valeur unique

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   "Un associÃ© senior IA disponible 24/7 qui connaÃ®t tous       â”‚
â”‚    vos dossiers, toute la doctrine, et 20 ans d'expÃ©rience     â”‚
â”‚    de tous les cabinets de France."                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PARTIE 2 : INNOVATION KM

## 2.1 Les 5 rÃ©volutions KM 360Â°

### RÃ©volution 1 : Le KM Conversationnel

**Avant** : Chercher dans une GED, lire des docs, espÃ©rer trouver
**AprÃ¨s** : Poser une question en langage naturel, obtenir LA rÃ©ponse contextualisÃ©e

```
Collaborateur : "Comment traiter la TVA sur les prestations de 
                formation pour un client belge ?"

KM 360Â° : "Pour ton client [Dupont SPRL], voici le traitement :
          1. [RÃ¨gle applicable avec source]
          2. [Jurisprudence rÃ©cente]
          3. [Comment on a traitÃ© le dossier Martin l'an dernier]
          4. [Point de vigilance identifiÃ© par le cabinet X]"
```

### RÃ©volution 2 : La Capitalisation Invisible

**Avant** : "Il faudrait documenter Ã§a... un jour"
**AprÃ¨s** : Le systÃ¨me capture automatiquement les savoirs

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 FLUX DE CAPITALISATION                      â”‚
â”‚                                                             â”‚
â”‚  Collaborateur rÃ©sout un problÃ¨me                          â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  Agent IA dÃ©tecte un pattern intÃ©ressant                   â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  Extraction automatique :                                   â”‚
â”‚  - ProblÃ¨me rencontrÃ©                                       â”‚
â”‚  - Solution appliquÃ©e                                       â”‚
â”‚  - RÃ©sultat obtenu                                          â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  Proposition de capitalisation â†’ Validation 1 clic         â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  Enrichissement base KM + Indexation sÃ©mantique            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RÃ©volution 3 : L'Intelligence Collective Inter-Cabinets

**Le cercle vertueux de la mutualisation**

```
Cabinet A traite un cas complexe de TVA intracommunautaire
    â”‚
    â–¼
Capitalisation â†’ Anonymisation automatique
    â”‚
    â–¼
Enrichissement de la base commune
    â”‚
    â–¼
Cabinet B rencontre un cas similaire
    â”‚
    â–¼
KM 360Â° : "D'autres cabinets ont rencontrÃ© ce cas. 
           Voici les approches qui ont fonctionnÃ©..."
```

**MÃ©triques de mutualisation** :
- Chaque cabinet contribue â†’ Score de contribution
- Chaque cabinet bÃ©nÃ©ficie â†’ Score d'utilisation
- Ã‰quilibre contribution/utilisation â†’ Tarification dynamique

### RÃ©volution 4 : Les Parcours de Transformation

**Le Double Diamant comme moteur de changement**

Chaque cabinet peut lancer des "Missions KM" structurÃ©es :

```
MISSION : Structurer le process Avant-Vente
â”‚
â”œâ”€â”€ Phase DÃ‰COUVRIR (diverger)
â”‚   â”œâ”€â”€ JEU-001 : Crash Test Commercial
â”‚   â”œâ”€â”€ JEU-002 : Persona Prospect  
â”‚   â””â”€â”€ JEU-003 : Mur des Objections
â”‚
â”œâ”€â”€ Phase DÃ‰FINIR (converger)
â”‚   â”œâ”€â”€ JEU-004 : Proposition de Valeur
â”‚   â””â”€â”€ JEU-005 : Carte des Offres
â”‚
â”œâ”€â”€ Phase DÃ‰VELOPPER (diverger)
â”‚   â”œâ”€â”€ JEU-006 : Process Book
â”‚   â””â”€â”€ JEU-007 : Kit Manager
â”‚
â””â”€â”€ Phase DÃ‰LIVRER (converger)
    â”œâ”€â”€ JEU-008 : Pilote terrain
    â””â”€â”€ JEU-009 : Crash Test final
```

Chaque JEU est accompagnÃ© par un agent IA spÃ©cialisÃ©.

### RÃ©volution 5 : Le KM PrÃ©dictif

**Anticiper les besoins de connaissance**

```
Lundi 8h :
"Bonjour Sophie. Cette semaine tu as :
- 3 clÃ´tures de bilan (dont 1 client CAC â†’ check-list spÃ©ciale)
- 1 nouveau client restaurateur (â†’ spÃ©cificitÃ©s sectorielles)
- Ã‰chÃ©ance DAS2 vendredi (â†’ process et checklist)

J'ai prÃ©parÃ© les fiches de briefing pour chaque dossier."
```

---

## 2.2 Catalogue des Missions KM

### Missions Avant-Vente
| Mission | DurÃ©e | Livrables |
|---------|-------|-----------|
| Structurer le process commercial | 4-6 sem | Process Book, Kit Manager, Templates |
| DÃ©finir la proposition de valeur | 2 sem | Pitch, Argumentaire, FAQ |
| Construire le catalogue d'offres | 3 sem | Carte des offres, Grille tarifaire |

### Missions Production
| Mission | DurÃ©e | Livrables |
|---------|-------|-----------|
| Optimiser le process de rÃ©vision | 6-8 sem | Checklist, ProcÃ©dures, Templates |
| Structurer la mission sociale | 4 sem | Process DSN, Checklist paie |
| Digitaliser l'entrÃ©e en relation | 3 sem | Parcours client, Automatisations |

### Missions Organisation
| Mission | DurÃ©e | Livrables |
|---------|-------|-----------|
| Onboarding collaborateurs | 2 sem | Parcours, Quiz, Mentoring IA |
| Documentation des process | 4-8 sem | Process Books par pÃ´le |
| Capitalisation des expertises | Continu | Base de connaissances enrichie |

---

# PARTIE 3 : ARCHITECTURE TECHNIQUE

## 3.1 Vue d'ensemble

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND                                       â”‚
â”‚                    Next.js 14 + React + Tailwind                        â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Dashboard   â”‚  â”‚ Chat IA     â”‚  â”‚ Base KM     â”‚  â”‚ Missions    â”‚   â”‚
â”‚  â”‚ Cabinet     â”‚  â”‚ Agents      â”‚  â”‚ Search      â”‚  â”‚ Double â—‡    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            API LAYER                                     â”‚
â”‚                    FastAPI + WebSockets (streaming)                      â”‚
â”‚                                                                         â”‚
â”‚  /chat  /search  /missions  /knowledge  /analytics  /cabinets          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AGENT LAYER                                      â”‚
â”‚                      Claude Agent SDK                                    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ORCHESTRATEUR PRINCIPAL                       â”‚   â”‚
â”‚  â”‚                         "Sophie"                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                          â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚        â”‚                     â”‚                     â”‚                    â”‚
â”‚        â–¼                     â–¼                     â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Agent     â”‚        â”‚ Agent     â”‚        â”‚ Agent     â”‚              â”‚
â”‚  â”‚ MÃ©tier    â”‚        â”‚ Process   â”‚        â”‚ Veille    â”‚              â”‚
â”‚  â”‚           â”‚        â”‚           â”‚        â”‚           â”‚              â”‚
â”‚  â”‚ - Fiscal  â”‚        â”‚ - Missionsâ”‚        â”‚ - Actu    â”‚              â”‚
â”‚  â”‚ - Social  â”‚        â”‚ - JEU     â”‚        â”‚ - Doctrineâ”‚              â”‚
â”‚  â”‚ - Juridiqueâ”‚       â”‚ - Livrablesâ”‚       â”‚ - Jurispruâ”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                         â”‚
â”‚  MCP Servers : Monday | Notion | GED | Custom                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATA LAYER                                       â”‚
â”‚                          Supabase                                        â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PostgreSQL  â”‚  â”‚ pgvector    â”‚  â”‚ Auth        â”‚  â”‚ Storage     â”‚   â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚   â”‚
â”‚  â”‚ - Cabinets  â”‚  â”‚ - Embeddingsâ”‚  â”‚ - Users     â”‚  â”‚ - Documents â”‚   â”‚
â”‚  â”‚ - Missions  â”‚  â”‚ - Semantic  â”‚  â”‚ - Roles     â”‚  â”‚ - Livrables â”‚   â”‚
â”‚  â”‚ - Knowledge â”‚  â”‚   Search    â”‚  â”‚ - SSO       â”‚  â”‚ - Exports   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    BASE MUTUALISÃ‰E                               â”‚   â”‚
â”‚  â”‚        Connaissances anonymisÃ©es partagÃ©es entre cabinets       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3.2 Stack Technologique

| Couche | Technologie | Justification |
|--------|-------------|---------------|
| Frontend | Next.js 14 + React 18 | SSR, performance, Ã©cosystÃ¨me |
| UI | Tailwind + shadcn/ui | RapiditÃ©, cohÃ©rence |
| API | FastAPI (Python) | Performance, async, typing |
| Agents | Claude Agent SDK | QualitÃ© conversation, MCP natif |
| LLM | Claude Sonnet 4.5 | Meilleur rapport qualitÃ©/coÃ»t |
| Auth | Supabase Auth + SSO | Multi-tenant, enterprise-ready |
| DB | Supabase PostgreSQL | Fiable, scalable, Row-Level Security |
| Vecteurs | Supabase pgvector | Recherche sÃ©mantique intÃ©grÃ©e |
| Embeddings | Voyage AI | OptimisÃ© pour le franÃ§ais |
| Storage | Supabase Storage | Documents, livrables |
| Queue | Redis + BullMQ | Jobs async, rate limiting |
| Monitoring | Langfuse | ObservabilitÃ© LLM |
| Hosting | Vercel + Railway | ScalabilitÃ©, DX |

## 3.3 ModÃ¨le de DonnÃ©es

### EntitÃ©s principales

```sql
-- =====================================================
-- MULTI-TENANCY
-- =====================================================

CREATE TABLE cabinets (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT NOT NULL,
  slug TEXT UNIQUE NOT NULL,
  settings JSONB DEFAULT '{}',
  subscription_tier TEXT DEFAULT 'starter',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  
  -- MÃ©triques KM
  km_score DECIMAL(3,2) DEFAULT 0,
  contribution_score INTEGER DEFAULT 0,
  usage_score INTEGER DEFAULT 0
);

CREATE TABLE users (
  id UUID PRIMARY KEY REFERENCES auth.users,
  cabinet_id UUID REFERENCES cabinets NOT NULL,
  email TEXT NOT NULL,
  full_name TEXT,
  role TEXT DEFAULT 'collaborateur', -- admin, associe, manager, collaborateur
  specialties TEXT[], -- fiscal, social, juridique, audit
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- =====================================================
-- MISSIONS & DOUBLE DIAMANT
-- =====================================================

CREATE TABLE missions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  cabinet_id UUID REFERENCES cabinets NOT NULL,
  template_id UUID REFERENCES mission_templates,
  name TEXT NOT NULL,
  description TEXT,
  phase TEXT DEFAULT 'DECOUVRIR', -- DECOUVRIR, DEFINIR, DEVELOPPER, DELIVRER
  status TEXT DEFAULT 'active', -- active, paused, completed, archived
  started_at TIMESTAMPTZ DEFAULT NOW(),
  completed_at TIMESTAMPTZ,
  
  -- Scores et mÃ©triques
  baseline_score DECIMAL(3,2),
  current_score DECIMAL(3,2),
  target_score DECIMAL(3,2),
  
  metadata JSONB DEFAULT '{}'
);

CREATE TABLE mission_jeux (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  mission_id UUID REFERENCES missions NOT NULL,
  jeu_template_id UUID REFERENCES jeu_templates,
  code TEXT NOT NULL, -- JEU-AV-001
  name TEXT NOT NULL,
  phase TEXT NOT NULL,
  status TEXT DEFAULT 'pending', -- pending, in_progress, done, blocked
  
  -- Livrables
  expected_deliverables JSONB,
  actual_deliverables JSONB,
  
  -- Timing
  started_at TIMESTAMPTZ,
  completed_at TIMESTAMPTZ,
  
  -- Insights capturÃ©s
  insights JSONB DEFAULT '[]',
  
  assigned_to UUID REFERENCES users
);

-- =====================================================
-- BASE DE CONNAISSANCES
-- =====================================================

CREATE TABLE knowledge_items (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  cabinet_id UUID REFERENCES cabinets, -- NULL = mutualisÃ©
  
  -- Classification
  type TEXT NOT NULL, -- insight, process, template, faq, doctrine, jurisprudence
  category TEXT, -- fiscal, social, juridique, commercial, organisation
  subcategory TEXT,
  tags TEXT[],
  
  -- Contenu
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  summary TEXT, -- GÃ©nÃ©rÃ© par IA
  
  -- Source et traÃ§abilitÃ©
  source_type TEXT, -- mission, conversation, import, veille, user
  source_id UUID,
  source_url TEXT,
  
  -- QualitÃ© et validation
  status TEXT DEFAULT 'draft', -- draft, review, validated, archived
  validated_by UUID REFERENCES users,
  validated_at TIMESTAMPTZ,
  quality_score DECIMAL(3,2),
  usage_count INTEGER DEFAULT 0,
  
  -- Vectorisation
  embedding VECTOR(1024), -- Voyage AI
  
  -- Mutualisation
  is_shareable BOOLEAN DEFAULT false,
  anonymized_content TEXT,
  anonymized_embedding VECTOR(1024),
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  created_by UUID REFERENCES users
);

-- Index pour recherche sÃ©mantique
CREATE INDEX ON knowledge_items 
  USING ivfflat (embedding vector_cosine_ops)
  WITH (lists = 100);

-- =====================================================
-- CONVERSATIONS & MÃ‰MOIRE
-- =====================================================

CREATE TABLE conversations (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  cabinet_id UUID REFERENCES cabinets NOT NULL,
  user_id UUID REFERENCES users NOT NULL,
  
  -- Contexte
  context_type TEXT, -- general, mission, dossier
  context_id UUID,
  
  -- Ã‰tat
  status TEXT DEFAULT 'active',
  summary TEXT, -- RÃ©sumÃ© IA de la conversation
  
  -- MÃ©triques
  message_count INTEGER DEFAULT 0,
  tokens_used INTEGER DEFAULT 0,
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE conversation_messages (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  conversation_id UUID REFERENCES conversations NOT NULL,
  
  role TEXT NOT NULL, -- user, assistant, system, tool
  content TEXT NOT NULL,
  
  -- Si tool call
  tool_name TEXT,
  tool_input JSONB,
  tool_output JSONB,
  
  -- MÃ©triques
  tokens INTEGER,
  latency_ms INTEGER,
  
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- MÃ©moire long-terme extraite des conversations
CREATE TABLE memories (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  cabinet_id UUID REFERENCES cabinets NOT NULL,
  user_id UUID REFERENCES users,
  
  type TEXT NOT NULL, -- preference, fact, context, learning
  content TEXT NOT NULL,
  
  -- Pertinence
  importance DECIMAL(3,2) DEFAULT 0.5,
  last_accessed_at TIMESTAMPTZ,
  access_count INTEGER DEFAULT 0,
  
  embedding VECTOR(1024),
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  expires_at TIMESTAMPTZ
);

-- =====================================================
-- TEMPLATES & CONFIGURATION
-- =====================================================

CREATE TABLE mission_templates (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  code TEXT UNIQUE NOT NULL, -- MISSION-AV, MISSION-PROD, etc.
  name TEXT NOT NULL,
  description TEXT,
  category TEXT, -- avant-vente, production, organisation
  
  -- Configuration
  default_duration_weeks INTEGER,
  phases JSONB NOT NULL, -- [{phase, jeux, criteria}]
  
  -- Prompts des agents
  orchestrator_prompt TEXT,
  agent_prompts JSONB,
  
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE jeu_templates (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  mission_template_id UUID REFERENCES mission_templates,
  code TEXT NOT NULL,
  name TEXT NOT NULL,
  phase TEXT NOT NULL,
  
  -- Instructions
  description TEXT,
  objectives TEXT[],
  inputs TEXT[],
  outputs TEXT[],
  
  -- Agent dÃ©diÃ©
  agent_prompt TEXT,
  agent_tools TEXT[],
  
  -- DurÃ©e et effort
  estimated_hours DECIMAL(4,1),
  
  display_order INTEGER,
  is_active BOOLEAN DEFAULT true
);

-- =====================================================
-- ANALYTICS & MÃ‰TRIQUES
-- =====================================================

CREATE TABLE cabinet_metrics (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  cabinet_id UUID REFERENCES cabinets NOT NULL,
  date DATE NOT NULL,
  
  -- Usage
  conversations_count INTEGER DEFAULT 0,
  messages_count INTEGER DEFAULT 0,
  tokens_used INTEGER DEFAULT 0,
  
  -- KM
  knowledge_items_created INTEGER DEFAULT 0,
  knowledge_items_used INTEGER DEFAULT 0,
  search_queries INTEGER DEFAULT 0,
  
  -- Missions
  jeux_completed INTEGER DEFAULT 0,
  
  -- Contribution mutualisÃ©e
  items_shared INTEGER DEFAULT 0,
  items_consumed INTEGER DEFAULT 0,
  
  UNIQUE(cabinet_id, date)
);

-- =====================================================
-- ROW LEVEL SECURITY
-- =====================================================

ALTER TABLE cabinets ENABLE ROW LEVEL SECURITY;
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE missions ENABLE ROW LEVEL SECURITY;
ALTER TABLE knowledge_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE conversations ENABLE ROW LEVEL SECURITY;

-- Politique : un user ne voit que les donnÃ©es de son cabinet
CREATE POLICY cabinet_isolation ON knowledge_items
  FOR ALL
  USING (
    cabinet_id = (SELECT cabinet_id FROM users WHERE id = auth.uid())
    OR cabinet_id IS NULL -- Items mutualisÃ©s
  );
```

## 3.4 APIs

### Endpoints principaux

```yaml
# Chat & Agents
POST   /api/chat                    # Message vers agent
GET    /api/chat/stream             # WebSocket streaming
GET    /api/conversations           # Liste conversations
GET    /api/conversations/{id}      # DÃ©tail conversation

# Knowledge Management
GET    /api/knowledge/search        # Recherche sÃ©mantique
POST   /api/knowledge               # CrÃ©er item
PUT    /api/knowledge/{id}          # Modifier item
POST   /api/knowledge/{id}/validate # Valider item
GET    /api/knowledge/suggestions   # Suggestions de capitalisation

# Missions
GET    /api/missions                # Liste missions cabinet
POST   /api/missions                # DÃ©marrer mission
GET    /api/missions/{id}           # DÃ©tail mission
PUT    /api/missions/{id}/phase     # Changer de phase
GET    /api/missions/{id}/jeux      # Liste des JEU
PUT    /api/jeux/{id}               # Mettre Ã  jour JEU
POST   /api/jeux/{id}/complete      # Terminer JEU

# Templates
GET    /api/templates/missions      # Catalogue missions
GET    /api/templates/jeux          # Catalogue JEU

# Cabinet & Users
GET    /api/cabinet                 # Info cabinet courant
PUT    /api/cabinet                 # Modifier cabinet
GET    /api/cabinet/users           # Liste users
POST   /api/cabinet/invite          # Inviter user

# Analytics
GET    /api/analytics/dashboard     # MÃ©triques globales
GET    /api/analytics/km-score      # Score KM dÃ©taillÃ©
GET    /api/analytics/usage         # Usage par pÃ©riode
```

### Exemple requÃªte Chat

```json
// POST /api/chat
{
  "message": "OÃ¹ en est la mission Avant-Vente ?",
  "conversation_id": "uuid-conversation",
  "context": {
    "mission_id": "uuid-mission",
    "include_knowledge": true
  }
}

// Response (streamed)
{
  "type": "thinking",
  "content": "Je vÃ©rifie l'Ã©tat de la mission..."
}
{
  "type": "tool_use",
  "tool": "get_mission_status",
  "input": {"mission_id": "..."}
}
{
  "type": "text",
  "content": "ğŸ“ Mission Avant-Vente - Ã‰tat actuel\n\nPhase : DÃ‰COUVRIR..."
}
{
  "type": "suggestion",
  "content": "Voulez-vous lancer le JEU Persona Prospect ?"
}
```

---

# PARTIE 4 : FONCTIONNALITÃ‰S DÃ‰TAILLÃ‰ES

## 4.1 Module Chat IA

### Agents disponibles

| Agent | RÃ´le | Outils |
|-------|------|--------|
| **Sophie** (Orchestrateur) | Point d'entrÃ©e, routing, suivi global | Tous |
| **Agent MÃ©tier** | Questions techniques (fiscal, social, juridique) | Knowledge search, Web search |
| **Agent Process** | Missions, JEU, livrables | Monday/Notion, File ops |
| **Agent Veille** | ActualitÃ©, doctrine, jurisprudence | Web search, RSS |
| **Agent Onboarding** | Accompagnement nouveaux collaborateurs | Knowledge, Quiz |

### FonctionnalitÃ©s chat

- Streaming temps rÃ©el
- Historique persistant
- Contexte automatique (mission en cours, dossier)
- Suggestions proactives
- Capitalisation en 1 clic
- Export conversation
- Partage interne

## 4.2 Module Knowledge Base

### Types de contenus

| Type | Description | Source |
|------|-------------|--------|
| **Insight** | Apprentissage ponctuel | Missions, conversations |
| **Process** | ProcÃ©dure documentÃ©e | Missions, import |
| **Template** | ModÃ¨le rÃ©utilisable | Missions, crÃ©ation |
| **FAQ** | Question/RÃ©ponse | Conversations, validation |
| **Doctrine** | Position administrative | Veille automatique |
| **Jurisprudence** | DÃ©cision de justice | Veille automatique |
| **Verbatim** | Citation notable | Conversations |

### Recherche

- **SÃ©mantique** : Comprend le sens, pas juste les mots
- **FiltrÃ©e** : Par type, catÃ©gorie, date, validÃ©/draft
- **Contextuelle** : Priorise selon contexte utilisateur
- **MutualisÃ©e** : Inclut base commune (opt-in)

### Capitalisation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 FLUX DE CAPITALISATION                      â”‚
â”‚                                                             â”‚
â”‚  1. DÃ‰TECTION                                              â”‚
â”‚     Agent dÃ©tecte un contenu capitalisable                 â”‚
â”‚     - Nouvelle solution Ã  un problÃ¨me                       â”‚
â”‚     - Process dÃ©crit dans la conversation                   â”‚
â”‚     - Verbatim intÃ©ressant                                 â”‚
â”‚                                                             â”‚
â”‚  2. EXTRACTION                                             â”‚
â”‚     Agent structure automatiquement                         â”‚
â”‚     - Titre suggÃ©rÃ©                                         â”‚
â”‚     - RÃ©sumÃ©                                                â”‚
â”‚     - CatÃ©gorisation                                        â”‚
â”‚     - Tags                                                  â”‚
â”‚                                                             â”‚
â”‚  3. PROPOSITION                                            â”‚
â”‚     "ğŸ’¡ Je pense que Ã§a mÃ©rite d'Ãªtre capitalisÃ©.          â”‚
â”‚      Voulez-vous l'ajouter Ã  la base KM ?"                 â”‚
â”‚     [Oui, tel quel] [Modifier] [Non merci]                 â”‚
â”‚                                                             â”‚
â”‚  4. VALIDATION                                             â”‚
â”‚     - Si Oui â†’ CrÃ©ation item KM (status: draft)            â”‚
â”‚     - Review manager/associÃ© optionnelle                    â”‚
â”‚     - Validation â†’ status: validated                        â”‚
â”‚                                                             â”‚
â”‚  5. ENRICHISSEMENT                                         â”‚
â”‚     - Embedding gÃ©nÃ©rÃ©                                      â”‚
â”‚     - Indexation sÃ©mantique                                 â”‚
â”‚     - Si shareable â†’ Anonymisation + ajout base commune    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4.3 Module Missions

### Catalogue initial

**Missions Avant-Vente**
1. Structurer le process commercial
2. DÃ©finir la proposition de valeur
3. Construire le catalogue d'offres
4. Optimiser le pipe commercial

**Missions Production**
1. Optimiser le process de rÃ©vision
2. Structurer la mission sociale
3. Digitaliser l'entrÃ©e en relation
4. AmÃ©liorer le process CAC

**Missions Organisation**
1. Onboarding collaborateurs
2. Documentation des process
3. Capitalisation des expertises
4. AmÃ©lioration continue

### Interface Mission

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Mission : Structurer le process Avant-Vente            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                             â”‚
â”‚  Phase actuelle : DÃ‰COUVRIR          Avancement : 35%      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚DÃ‰COUVRIR â”‚â”€â”€â”€â–¶â”‚ DÃ‰FINIR  â”‚â”€â”€â”€â–¶â”‚DÃ‰VELOPPERâ”‚â”€â”€â”€â–¶â”‚LIVRERâ”‚ â”‚
â”‚  â”‚  â—â—â—â—‹â—‹   â”‚    â”‚  â—‹â—‹â—‹â—‹â—‹   â”‚    â”‚  â—‹â—‹â—‹â—‹â—‹   â”‚    â”‚ â—‹â—‹â—‹â—‹ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  JEU en cours : Persona Prospect                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“‹ Objectif : DÃ©finir le client idÃ©al               â”‚   â”‚
â”‚  â”‚ ğŸ“ Livrable : Fiche Persona                         â”‚   â”‚
â”‚  â”‚ ğŸ‘¤ AssignÃ© : @alexandre                             â”‚   â”‚
â”‚  â”‚ â±ï¸ EstimÃ© : 3h                                      â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ [ğŸ’¬ Travailler avec Sophie] [ğŸ“„ Voir le livrable]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Score KM Mission : Baseline 1.6/5 â†’ Actuel 2.1/5         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4.4 Module Analytics

### Dashboard Cabinet

- Score KM global (Ã©volution)
- Missions actives et progression
- Usage (conversations, recherches)
- Top contributors
- Contenus les plus consultÃ©s
- Suggestions d'amÃ©lioration

### Score KM

CalculÃ© sur 8 dimensions (comme le Crash Test) :

1. **Proposition de valeur** : ClartÃ© et documentation
2. **Catalogue d'offres** : Structuration et pricing
3. **Process formalisÃ©s** : Documentation et adoption
4. **Qualification** : CritÃ¨res et scoring
5. **Outils** : DisponibilitÃ© et centralisation
6. **Argumentation** : FAQ et rÃ©ponses aux objections
7. **Suivi** : Pipeline et mÃ©triques
8. **Capitalisation** : Enrichissement de la base KM

---

# PARTIE 5 : USER STORIES

## 5.1 Epic : Chat IA

```gherkin
Feature: Conversation avec agent IA

  Scenario: Question mÃ©tier simple
    Given je suis connectÃ© comme collaborateur
    When je pose une question "Comment traiter la TVA sur marge ?"
    Then l'agent recherche dans la base KM
    And l'agent rÃ©pond avec les sources
    And je peux voir les documents liÃ©s

  Scenario: Capitalisation depuis conversation
    Given je discute avec l'agent sur un cas complexe
    When l'agent dÃ©tecte un insight capitalisable
    Then il me propose de l'ajouter Ã  la base KM
    When je clique "Oui"
    Then l'item est crÃ©Ã© en status draft
    And je peux le modifier avant validation

  Scenario: Contexte mission
    Given j'ai une mission active
    When j'ouvre le chat depuis la mission
    Then l'agent connaÃ®t le contexte
    And il peut agir sur les JEU de la mission
```

## 5.2 Epic : Missions

```gherkin
Feature: Gestion des missions KM

  Scenario: DÃ©marrer une mission
    Given je suis admin ou associÃ©
    When je choisis le template "Process Avant-Vente"
    Then une mission est crÃ©Ã©e pour mon cabinet
    And les JEU sont initialisÃ©s
    And le score baseline est calculÃ©

  Scenario: Travailler sur un JEU
    Given j'ai un JEU assignÃ© "Persona Prospect"
    When je clique "Travailler avec Sophie"
    Then le chat s'ouvre avec le contexte du JEU
    And Sophie me guide Ã©tape par Ã©tape
    When le livrable est complÃ©tÃ©
    Then je peux marquer le JEU comme terminÃ©

  Scenario: Passage de phase
    Given tous les JEU de la phase DÃ‰COUVRIR sont terminÃ©s
    When les critÃ¨res de passage sont validÃ©s
    Then je peux passer Ã  la phase DÃ‰FINIR
    And les JEU suivants sont dÃ©bloquÃ©s
```

## 5.3 Epic : Knowledge Base

```gherkin
Feature: Base de connaissances

  Scenario: Recherche sÃ©mantique
    Given je suis sur la page Knowledge
    When je cherche "provision pour risque client douteux"
    Then je vois les rÃ©sultats par pertinence
    And les rÃ©sultats incluent la base commune (si opt-in)
    And je peux filtrer par type/catÃ©gorie

  Scenario: Validation d'un item
    Given je suis manager
    When je vois un item en status "review"
    Then je peux le valider ou demander des modifications
    When je valide
    Then le status passe Ã  "validated"
    And l'item est indexÃ© pour la recherche

  Scenario: Partage mutualisÃ©
    Given j'ai un item validÃ©
    When je coche "Partager avec la communautÃ©"
    Then le contenu est anonymisÃ© automatiquement
    And il rejoint la base commune
    And mon score de contribution augmente
```

---

# PARTIE 6 : ROADMAP

## Phase 1 : MVP (8 semaines)

**Objectif** : Produit testable par 3 cabinets pilotes

| Semaine | FonctionnalitÃ©s |
|---------|-----------------|
| 1-2 | Setup infra (Supabase, API, Auth) |
| 2-3 | Agent SDK + Chat basique |
| 3-4 | Base KM + Recherche sÃ©mantique |
| 4-5 | Missions + Templates (1 mission) |
| 5-6 | Dashboard + Analytics basiques |
| 6-7 | Frontend polish + Tests |
| 7-8 | DÃ©ploiement + Onboarding pilotes |

**Livrables MVP** :
- Chat avec Sophie (orchestrateur)
- Base KM avec recherche
- 1 mission complÃ¨te (Avant-Vente)
- Dashboard simple
- Multi-tenant fonctionnel

## Phase 2 : Beta (8 semaines)

**Objectif** : 20 cabinets, fonctionnalitÃ©s complÃ¨tes

| FonctionnalitÃ© | PrioritÃ© |
|----------------|----------|
| Subagents spÃ©cialisÃ©s | P0 |
| Capitalisation automatique | P0 |
| 3 missions supplÃ©mentaires | P0 |
| Base mutualisÃ©e (opt-in) | P1 |
| MCP Monday/Notion | P1 |
| Veille automatique | P1 |
| Mobile responsive | P1 |
| SSO enterprise | P2 |

## Phase 3 : Scale (12 semaines)

**Objectif** : 100+ cabinets, modÃ¨le Ã©conomique prouvÃ©

- Onboarding self-service
- Marketplace de templates
- API publique
- IntÃ©grations logiciels mÃ©tier
- Analytics avancÃ©s
- Programme partenaires

---

# PARTIE 7 : BUSINESS MODEL

## 7.1 Pricing

| Plan | Prix | Inclus |
|------|------|--------|
| **Starter** | 199â‚¬/mois | 5 users, 1 mission active, Base KM privÃ©e |
| **Pro** | 499â‚¬/mois | 20 users, 3 missions, Base mutualisÃ©e, MCP |
| **Enterprise** | Sur devis | IllimitÃ©, SSO, API, Support dÃ©diÃ© |

**Add-ons** :
- User supplÃ©mentaire : 29â‚¬/mois
- Mission supplÃ©mentaire : 99â‚¬/mois
- Accompagnement mission : 1 500â‚¬ (consulting)

## 7.2 MÃ©triques clÃ©s

| MÃ©trique | Cible M6 | Cible M12 |
|----------|----------|-----------|
| Cabinets actifs | 30 | 150 |
| MRR | 15kâ‚¬ | 75kâ‚¬ |
| Churn | <5% | <3% |
| NPS | >40 | >50 |

---

# PARTIE 8 : ANNEXES

## A. Glossaire

| Terme | DÃ©finition |
|-------|------------|
| **Double Diamant** | MÃ©thodologie en 4 phases : DÃ©couvrir, DÃ©finir, DÃ©velopper, DÃ©livrer |
| **JEU** | UnitÃ© de travail dans une mission (atelier structurÃ©) |
| **Score KM** | Indicateur de maturitÃ© KM du cabinet (0-5) |
| **Base mutualisÃ©e** | Connaissances anonymisÃ©es partagÃ©es entre cabinets |
| **Capitalisation** | Action d'enrichir la base KM avec un nouveau savoir |

## B. RÃ©fÃ©rences

- Framework Double Diamant : Design Council UK
- Claude Agent SDK : https://platform.claude.com/docs/en/agent-sdk
- Supabase : https://supabase.com/docs
- Anthropic Best Practices : https://docs.anthropic.com

## C. Contacts

**Product Owner** : Alex Assor  
**Email** : alexandre.assor@experts-entreprendre.com

---

*Document gÃ©nÃ©rÃ© avec l'aide de Claude â€” Version 1.0 â€” Janvier 2025*
